<% if (story) { %>
    <a href="/story/<%= story.slug %>"
       class="group w-full h-full flex flex-col xl:grid xl:grid-cols-2 xl:gap-4 rounded-lg overflow-hidden shadow bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 <% if (!story.is_breaking) { %> hover:border-cyan-500 dark:hover:border-cyan-500 <% } %> transition <% if (story.is_breaking) { %> ring-2 ring-red-700 <% } %>">

        <div class="relative w-full h-3/4 min-h-[250px] xl:h-full overflow-hidden">
            <% if (story.is_breaking) { %>
                <span class="absolute top-0 right-0 bg-red-700 text-white text-xs font-bold px-3 py-1.5 rounded-bl-xl z-10 uppercase tracking-wider">
                    Breaking
                </span>
            <% } %>
            <img src="<%= story.header_media %>?width=800&format=webp&quality=70"
                 alt="<%= story.title %>"
                 class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                 loading="lazy" />
        </div>

        <div class="hidden xl:grid grid-rows-[auto_1fr] p-4 overflow-hidden">
            <h2 class="text-2xl font-bold mb-2 group-hover:text-cyan-500">
                <%= story.title %>
            </h2>

            <div class="overflow-hidden min-h-0">
                <p class="text-gray-600 dark:text-gray-400 leading-relaxed line-clamp-5">
                    <%= story.tagline %>
                </p>
            </div>
        </div>

        <div class="xl:hidden relative p-4 bg-white dark:bg-gray-800 flex-grow">
            <h2 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-2">
                <%= story.title %>
            </h2>
            <p class="text-gray-600 dark:text-gray-400 leading-relaxed line-clamp-3">
                <%= story.tagline %>
            </p>
        </div>
    </a>
<% } %>
