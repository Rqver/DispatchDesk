<a href="/story/<%= story.slug %>" class="group w-full h-full flex flex-col rounded-lg overflow-hidden shadow-lg <% if (story.is_breaking) { %>ring-2 ring-red-700<% } %>">
    <div class="relative w-full h-3/4 min-h-[250px] xl:h-full">
        <% if (story.is_breaking) { %>
            <span class="absolute top-0 right-0 bg-red-700 text-white text-xs font-bold px-3 py-1.5 rounded-bl-xl z-10 uppercase tracking-wider">
                Breaking
            </span>
        <% } %>

        <img src="<%= story.header_media %>?width=400&format=webp&quality=30" alt="" class="absolute inset-0 w-full h-full object-cover blur-sm scale-105" aria-hidden="true" />

        <img src="<%= story.header_media %>?width=1600&format=webp&quality=75" alt="<%= story.title %>" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 xl:group-hover:scale-105" loading="eager" fetchpriority="high" />

        <div class="hidden xl:block absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>

        <div class="hidden xl:flex absolute bottom-0 left-0 p-6 items-end">
            <div>
                <h2 class="text-2xl lg:text-4xl font-bold text-white"><%= story.title %></h2>
                <p class="text-gray-200 mt-2"><%= story.tagline %></p>
            </div>
        </div>
    </div>

    <div class="xl:hidden relative p-4 bg-white dark:bg-gray-800 flex-grow">
        <h2 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-2">
            <%= story.title %>
        </h2>
        <p class="text-gray-600 dark:text-gray-400 leading-relaxed line-clamp-3">
            <%= story.tagline %>
        </p>
    </div>

</a>
